{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block title %}
  <title>Каталог товарів | Defender</title>
{% endblock %}

{% block content %}
  <form class="form-inline" method="get" action="">
    {{ search_form|crispy }}
    <input class="btn btn-primary mr-2" type="submit" value="Пошук" autocomplete="off-word">
    <a class="btn btn-secondary" href="{% url 'catalog:product-list' %}">Очистити</a>
  </form>

  {% if object_list %}
    <ul class="no-bullet">
      {% for product in object_list %}
        <li>
          <a href="{{ product.get_absolute_url }}">{{ product }}</a>
          <a href="{% url 'catalog:update-wishlist' product_number=product.product_number %}">
            {% if product.product_number not in customer_wishlist_product_numbers %}
              <img class="heart-icon" src="/static/images/heart-transparent.png" alt="Додати до списку бажань">
            {% else %}
              <img class="heart-icon" src="/static/images/heart-solid.png" alt="Видалити зі списку бажань">
            {% endif %}
          </a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="greyed-out">Немає товарів</p>
  {% endif %}
{% endblock %}
